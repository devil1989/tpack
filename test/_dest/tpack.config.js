var tpack=require("../lib/index.js");tpack.srcPath="",tpack.destPath="_dest",tpack.loadIgnoreFile(".gitignore"),tpack.ignore(".*","*/.*","_*","$*"),tpack.src("*.scss","*.sass").pipe(require("tpack-sass")).dest("$1.css"),tpack.src("*.less").pipe(require("tpack-less")).pipe(require("tpack-autoprefixer")).dest("$1.css"),tpack.src("*.es","*.es6","*.jsx").pipe(require("tpack-babel")).dest("$1.js"),tpack.src("*.coffee").pipe(require("tpack-coffee-script")).dest("$1.js");var assetsConfigs={rootPath:"",inline:"auto",protocal:"",paths:["libs"],searchNodeModules:!0,extensions:[".json",".jsx",".es",".es6",".coffee",".js",".scss",".less",".css"],extensions:[".js",".css"],resolveUrls:!0,urlPostfix:"_=<date>",requestRemoteModules:!0,parseInclude:!0,parseDest:!1,parseTags:!0,parseInline:!1,parseCmdRequire:!0,parseAmdRequire:!0,parseCssUrl:!0,exports:{".css":"../styles/$0.css",".css":"../styles/$0.css"},exclude:["assets/common.js"]};tpack.src("*.html","*.htm","*.inc").pipe(require("tpack-assets").html,assetsConfigs),tpack.src("scripts/*.js").pipe(require("tpack-assets").js,assetsConfigs),tpack.src("styles/*.css").pipe(require("tpack-autoprefixer")).pipe(require("tpack-assets").css,assetsConfigs),tpack.task("build",function(s){tpack.src("*.css").pipe(require("tpack-clean-css")),tpack.src("*.js").pipe(require("tpack-uglify-js")),tpack.src(/^((scripts|styles|images|fonts|resources)\/([^\/]*\/)*[^\.]*?)\.(.*)$/i).pipe(require("tpack-rename")).dest("cdn_upload/$1_<md5s>.$4"),tpack.src("libs/*","include/*").dest(null),tpack.src("/full-test.html","/full-test.html").pipe(require("tpack-concat")).dest("full-test-2.html"),tpack.src().pipe(function(s,e,t){return"此项目是从 "+t.srcPath+" 生成的，不要修改！生成时间："+new Date}).dest("NOTE.txt"),tpack.build()}),tpack.task("watch",function(s){tpack.watch(s.path)}),tpack.task("server",function(s){tpack.startServer(s.port||8080)}),process.mainModule===module&&tpack.task("default");